(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t.n(c),o=t(15),a=t.n(o),i=(t(20),t(6)),u=t(3),s=t(0),d=function(e){return Object(s.jsx)("input",{onChange:e.handleChange})},l=function(e){var n=e.person,t=e.handleClick;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("p",{children:[n.name," ",n.number]}),Object(s.jsx)("button",{onClick:function(){return t(n)},children:"delete"})]})},b=function(e){var n=e.message,t=e.styles;return null===n?null:Object(s.jsx)("div",{style:t,children:n})},j=t(4),h=t.n(j),f="http://localhost:3001/api/persons",O=function(){return h.a.get(f).then((function(e){return e.data}))},m=function(e){return h.a.post(f,e).then((function(e){return e.data}))},p=function(e){return h.a.delete("".concat(f,"/").concat(e.id)).then((function(e){return e.data}))},x=function(e,n){return h.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},g=function(){var e=Object(c.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],o=Object(c.useState)(""),a=Object(u.a)(o,2),j=a[0],h=a[1],f=Object(c.useState)(""),g=Object(u.a)(f,2),v=g[0],y=g[1],C=Object(c.useState)(!1),S=Object(u.a)(C,2),k=S[0],w=S[1],T=Object(c.useState)([]),B=Object(u.a)(T,2),F=B[0],L=B[1],P=Object(c.useState)(null),z=Object(u.a)(P,2),D=z[0],E=z[1],I=Object(c.useState)(null),J=Object(u.a)(I,2),R=J[0],A=J[1];Object(c.useEffect)((function(){O().then((function(e){return r(e)}))}),[]);var M=function(e,n){var c=Object(i.a)(Object(i.a)({},e),{},{number:n});x(e.id,c).then((function(n){return r(t.map((function(t){return t.id===e.id?n:t})))})).catch((function(e){return A("This person information was already removed")}))},N=function(e){p(e).then((function(n){r(t.filter((function(n){return n.id!==e.id})))})).catch((function(e){return A("This person information was already removed")}))};return Object(s.jsxs)("div",{children:[Object(s.jsx)(b,{message:D,styles:{color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}}),Object(s.jsx)(b,{message:R,styles:{color:"red",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}}),Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsxs)("div",{children:["filter shown with ",Object(s.jsx)(d,{handleChange:function(e){""!==e.target.value?(w(!0),L(t.filter((function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())})))):w(!1)}})]}),Object(s.jsx)("h2",{children:"Add new"}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.some((function(e){return e.name===j}))?window.confirm("".concat(j," is already added, update phone number?"))&&M(t.find((function(e){return e.name===j})),v):(t.some((function(e){return e.number===v}))?alert("".concat(v," is already added to phonebook")):(m({name:j,number:v}).then((function(e){return r(t.concat(e))})),E("".concat(j," was added to the database")),setTimeout((function(){E(null)}),5e3)),console.log(t))},children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)(d,{handleChange:function(e){h(e.target.value)}})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)(d,{handleChange:function(e){y(e.target.value)}})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]}),Object(s.jsx)("h2",{children:"Numbers"}),!1===k?t.map((function(e){return Object(s.jsx)(l,{person:e,handleClick:N},e.name)})):F.map((function(e){return Object(s.jsx)(l,{person:e,handleClick:N},e.name)}))]})},v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),c(e),r(e),o(e),a(e)}))};a.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root")),v()}},[[40,1,2]]]);
//# sourceMappingURL=main.5fec1c4c.chunk.js.map